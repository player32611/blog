# 误差反向传播法

::: danger 警告
该页面尚未完工!
:::

## 目录

[[toc]]

## 计算图

**计算图**将计算过程用图形表示出来。这里说的图形是数据结构图，通过多个节点和边表示（连接节点的直线称为“边”）。

计算图通过节点和箭头表示计算过程。节点用 ○ 表示，○ 中是计算的内容。将计算的中间结果写在箭头的上方，表示各个节点的计算结果从左向右传递。

::: details 问题 1

- **问题 1**： 太郎在超市买了 2 个 100 日元一个的苹果，消费税是 10%，请计算支付金额。

![基于计算图求解的问题 1 的答案](/images/deep-learning/backpropagation/question1-answer1.png)

开始时，苹果的 100 日元流到“×2”节点，变成 200 日元，然后被传递给下一个节点。接着，这个 200 日元流向“×1.1”节点，变成 220 日元。因此，从这个计算图的结果可知，答案为 220 日元。

图中把“×2”“ ×1.1”等作为一个运算整体用 ○ 括起来了，不过只用 ○ 表示乘法运算“×”也是可行的。此时，如下所示，可以将“2”和“1.1”分别作为变量“苹果的个数”和“消费税”标在 ○ 外面。

![基于计算图求解的问题 1 的答案：“苹果的个数”和“消费税”作为变量标在○外面](/images/deep-learning/backpropagation/question1-answer2.png)

:::

::: details 问题 2

- **问题 2**： 太郎在超市买了 2 个苹果、3 个橘子。其中，苹果每个 100 日元，橘子每个 150 日元。消费税是 10%，请计算支付金额。

![基于计算图求解的问题 2 的答案](/images/deep-learning/backpropagation/question2.png)

这个问题中新增了加法节点“+”，用来合计苹果和橘子的金额。构建了计算图后，从左向右进行计算。就像电路中的电流流动一样，计算结果从左向右传递。到达最右边的计算结果后，计算过程就结束了。

:::

综上，用计算图解题的情况下，需要按如下流程进行：

- 1. 构建计算图

- 2. 在计算图上，从左向右进行计算。

这里的第 2 歩“从左向右进行计算”是一种正方向上的传播，简称为**正向传播**（forward propagation）。正向传播是从计算图出发点到结束点的传播。

当然也可以考虑反向（从图上看的话，就是从右向左）的传播。实际上，这种传播称为**反向传播**（backward propagation）。

### 局部计算
